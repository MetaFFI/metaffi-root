{
    "name": "Windows Server 2022 Core (TBD - Not working yet)",
    "image": "mcr.microsoft.com/windows/servercore:ltsc2022",
    "postCreateCommand": "powershell -Command \"Set-ExecutionPolicy Bypass -Scope Process -Force; Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 -Force; Install-Module -Name PowerShellGet -Force -AllowClobber; Install-Module -Name PackageManagement -Force -AllowClobber; Install-Package -Name python3 -Source chocolatey -Force -RequiredVersion 3.11.0; Install-Package -Name golang -Source chocolatey -Force; Install-Package -Name openjdk -Source chocolatey -Force; [System.Environment]::SetEnvironmentVariable('PATH', $env:PATH + ';C:\\Program Files\\Go\\bin;C:\\Python311;C:\\Program Files\\OpenJDK\\jdk-21\\bin;C:\\workspaces\\MetaFFI\\output\\windows\\x64\\debug', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('GOPATH', 'C:\\go', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('GOBIN', 'C:\\go\\bin', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('CGO_ENABLED', '1', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('CGO_CFLAGS', '-IC:\\workspaces\\MetaFFI\\output\\windows\\x64\\debug', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('METAFFI_HOME', 'C:\\workspaces\\MetaFFI\\output\\windows\\x64\\debug', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('JAVA_HOME', 'C:\\Program Files\\OpenJDK\\jdk-21', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('PYTHONHOME', 'C:\\Python311', [System.EnvironmentVariableTarget]::Machine); Write-Output 'Environment variables set'\""
}

//"postCreateCommand": "powershell -Command \"Set-ExecutionPolicy Bypass -Scope Process -Force; Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 -Force; Install-Module -Name PowerShellGet -Force -AllowClobber; Install-Module -Name PackageManagement -Force -AllowClobber; Install-Package -Name python3 -Source chocolatey -Force -RequiredVersion 3.11.0; Install-Package -Name golang -Source chocolatey -Force; Install-Package -Name openjdk -Source chocolatey -Force; [System.Environment]::SetEnvironmentVariable('PATH', $env:PATH + ';C:\\Program Files\\Go\\bin;C:\\Python311;C:\\Program Files\\OpenJDK\\jdk-21\\bin;C:\\workspaces\\MetaFFI\\output\\windows\\x64\\debug', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('GOPATH', 'C:\\go', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('GOBIN', 'C:\\go\\bin', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('CGO_ENABLED', '1', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('CGO_CFLAGS', '-IC:\\workspaces\\MetaFFI\\output\\windows\\x64\\debug', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('METAFFI_HOME', 'C:\\workspaces\\MetaFFI\\output\\windows\\x64\\debug', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('JAVA_HOME', 'C:\\Program Files\\OpenJDK\\jdk-21', [System.EnvironmentVariableTarget]::Machine); [System.Environment]::SetEnvironmentVariable('PYTHONHOME', 'C:\\Python311', [System.EnvironmentVariableTarget]::Machine); Write-Output 'Environment variables set'\""